<pre class="Agda"><a id="1" class="Markup">\begin{code}</a>

<a id="15" class="Keyword">module</a> <a id="22" href="Scheme.Abstract-Syntax.html" class="Module">Scheme.Abstract-Syntax</a> <a id="45" class="Keyword">where</a>

<a id="52" class="Keyword">open</a> <a id="57" class="Keyword">import</a> <a id="64" href="Scheme.Domain-Notation.html" class="Module">Scheme.Domain-Notation</a> <a id="87" class="Keyword">using</a> <a id="93" class="Symbol">(</a><a id="94" href="Scheme.Domain-Notation.html#2877" class="Function Operator">_⋆′</a><a id="97" class="Symbol">)</a>

<a id="100" class="Comment">-- 7.2.1. Abstract syntax</a>

<a id="127" class="Keyword">postulate</a> <a id="Con"></a><a id="137" href="Scheme.Abstract-Syntax.html#137" class="Postulate">Con</a>  <a id="142" class="Symbol">:</a> <a id="144" href="Agda.Primitive.html#388" class="Primitive">Set</a>   <a id="150" class="Comment">-- constants, including quotations</a>
<a id="185" class="Keyword">postulate</a> <a id="Ide"></a><a id="195" href="Scheme.Abstract-Syntax.html#195" class="Postulate">Ide</a>  <a id="200" class="Symbol">:</a> <a id="202" href="Agda.Primitive.html#388" class="Primitive">Set</a>   <a id="208" class="Comment">-- identifiers (variables)</a>
<a id="235" class="Keyword">data</a>      <a id="Exp"></a><a id="245" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a>  <a id="250" class="Symbol">:</a> <a id="252" href="Agda.Primitive.html#388" class="Primitive">Set</a>   <a id="258" class="Comment">-- expressions</a>
<a id="Com"></a><a id="273" href="Scheme.Abstract-Syntax.html#273" class="Function">Com</a>            <a id="288" class="Symbol">=</a> <a id="290" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a>   <a id="296" class="Comment">-- commands</a>

<a id="309" class="Keyword">data</a> <a id="314" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a> <a id="318" class="Keyword">where</a>
  <a id="Exp.con"></a><a id="326" href="Scheme.Abstract-Syntax.html#326" class="InductiveConstructor">con</a>                <a id="345" class="Symbol">:</a> <a id="347" href="Scheme.Abstract-Syntax.html#137" class="Postulate">Con</a> <a id="351" class="Symbol">→</a> <a id="353" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a>                          <a id="382" class="Comment">-- K</a>
  <a id="Exp.ide"></a><a id="389" href="Scheme.Abstract-Syntax.html#389" class="InductiveConstructor">ide</a>                <a id="408" class="Symbol">:</a> <a id="410" href="Scheme.Abstract-Syntax.html#195" class="Postulate">Ide</a> <a id="414" class="Symbol">→</a> <a id="416" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a>                          <a id="445" class="Comment">-- I</a>
  <a id="Exp.⦅_␣_⦆"></a><a id="452" href="Scheme.Abstract-Syntax.html#452" class="InductiveConstructor Operator">⦅_␣_⦆</a>              <a id="471" class="Symbol">:</a> <a id="473" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a> <a id="477" class="Symbol">→</a> <a id="479" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a> <a id="483" href="Scheme.Domain-Notation.html#2877" class="Function Operator">⋆′</a> <a id="486" class="Symbol">→</a> <a id="488" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a>                 <a id="508" class="Comment">-- (E₀ E⋆′)</a>
  <a id="Exp.⦅lambda␣⦅_⦆_␣_⦆"></a><a id="522" href="Scheme.Abstract-Syntax.html#522" class="InductiveConstructor Operator">⦅lambda␣⦅_⦆_␣_⦆</a>    <a id="541" class="Symbol">:</a> <a id="543" href="Scheme.Abstract-Syntax.html#195" class="Postulate">Ide</a> <a id="547" href="Scheme.Domain-Notation.html#2877" class="Function Operator">⋆′</a> <a id="550" class="Symbol">→</a> <a id="552" href="Scheme.Abstract-Syntax.html#273" class="Function">Com</a> <a id="556" href="Scheme.Domain-Notation.html#2877" class="Function Operator">⋆′</a> <a id="559" class="Symbol">→</a> <a id="561" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a> <a id="565" class="Symbol">→</a> <a id="567" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a>        <a id="578" class="Comment">-- (lambda (I⋆′) Γ⋆′ E₀)</a>
  <a id="Exp.⦅lambda␣⦅_·_⦆_␣_⦆"></a><a id="605" href="Scheme.Abstract-Syntax.html#605" class="InductiveConstructor Operator">⦅lambda␣⦅_·_⦆_␣_⦆</a>  <a id="624" class="Symbol">:</a> <a id="626" href="Scheme.Abstract-Syntax.html#195" class="Postulate">Ide</a> <a id="630" href="Scheme.Domain-Notation.html#2877" class="Function Operator">⋆′</a> <a id="633" class="Symbol">→</a> <a id="635" href="Scheme.Abstract-Syntax.html#195" class="Postulate">Ide</a> <a id="639" class="Symbol">→</a> <a id="641" href="Scheme.Abstract-Syntax.html#273" class="Function">Com</a> <a id="645" href="Scheme.Domain-Notation.html#2877" class="Function Operator">⋆′</a> <a id="648" class="Symbol">→</a> <a id="650" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a> <a id="654" class="Symbol">→</a> <a id="656" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a>  <a id="661" class="Comment">-- (lambda (I⋆′ . I) Γ⋆′ E₀)</a>
  <a id="Exp.⦅lambda_␣_␣_⦆"></a><a id="692" href="Scheme.Abstract-Syntax.html#692" class="InductiveConstructor Operator">⦅lambda_␣_␣_⦆</a>      <a id="711" class="Symbol">:</a> <a id="713" href="Scheme.Abstract-Syntax.html#195" class="Postulate">Ide</a> <a id="717" class="Symbol">→</a> <a id="719" href="Scheme.Abstract-Syntax.html#273" class="Function">Com</a> <a id="723" href="Scheme.Domain-Notation.html#2877" class="Function Operator">⋆′</a> <a id="726" class="Symbol">→</a> <a id="728" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a> <a id="732" class="Symbol">→</a> <a id="734" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a>           <a id="748" class="Comment">-- (lambda I Γ⋆′ E₀)</a>
  <a id="Exp.⦅if_␣_␣_⦆"></a><a id="771" href="Scheme.Abstract-Syntax.html#771" class="InductiveConstructor Operator">⦅if_␣_␣_⦆</a>          <a id="790" class="Symbol">:</a> <a id="792" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a> <a id="796" class="Symbol">→</a> <a id="798" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a> <a id="802" class="Symbol">→</a> <a id="804" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a> <a id="808" class="Symbol">→</a> <a id="810" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a>              <a id="827" class="Comment">-- (if E₀ E₁ E₂)</a>
  <a id="Exp.⦅if_␣_⦆"></a><a id="846" href="Scheme.Abstract-Syntax.html#846" class="InductiveConstructor Operator">⦅if_␣_⦆</a>            <a id="865" class="Symbol">:</a> <a id="867" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a> <a id="871" class="Symbol">→</a> <a id="873" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a> <a id="877" class="Symbol">→</a> <a id="879" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a>                    <a id="902" class="Comment">-- (if E₀ E₁)</a>
  <a id="Exp.⦅set!_␣_⦆"></a><a id="918" href="Scheme.Abstract-Syntax.html#918" class="InductiveConstructor Operator">⦅set!_␣_⦆</a>          <a id="937" class="Symbol">:</a> <a id="939" href="Scheme.Abstract-Syntax.html#195" class="Postulate">Ide</a> <a id="943" class="Symbol">→</a> <a id="945" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a> <a id="949" class="Symbol">→</a> <a id="951" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a>                    <a id="974" class="Comment">-- (set! I E)</a>

<a id="989" class="Keyword">variable</a>
  <a id="1000" href="Scheme.Abstract-Syntax.html#1000" class="Generalizable">K</a>   <a id="1004" class="Symbol">:</a> <a id="1006" href="Scheme.Abstract-Syntax.html#137" class="Postulate">Con</a>
  <a id="1012" href="Scheme.Abstract-Syntax.html#1012" class="Generalizable">I</a>   <a id="1016" class="Symbol">:</a> <a id="1018" href="Scheme.Abstract-Syntax.html#195" class="Postulate">Ide</a>
  <a id="1024" href="Scheme.Abstract-Syntax.html#1024" class="Generalizable">I⋆</a>  <a id="1028" class="Symbol">:</a> <a id="1030" href="Scheme.Abstract-Syntax.html#195" class="Postulate">Ide</a> <a id="1034" href="Scheme.Domain-Notation.html#2877" class="Function Operator">⋆′</a>
  <a id="1039" href="Scheme.Abstract-Syntax.html#1039" class="Generalizable">E</a>   <a id="1043" class="Symbol">:</a> <a id="1045" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a>
  <a id="1051" href="Scheme.Abstract-Syntax.html#1051" class="Generalizable">E⋆</a>  <a id="1055" class="Symbol">:</a> <a id="1057" href="Scheme.Abstract-Syntax.html#245" class="Datatype">Exp</a> <a id="1061" href="Scheme.Domain-Notation.html#2877" class="Function Operator">⋆′</a>
  <a id="1066" href="Scheme.Abstract-Syntax.html#1066" class="Generalizable">Γ</a>   <a id="1070" class="Symbol">:</a> <a id="1072" href="Scheme.Abstract-Syntax.html#273" class="Function">Com</a>
  <a id="1078" href="Scheme.Abstract-Syntax.html#1078" class="Generalizable">Γ⋆</a>  <a id="1082" class="Symbol">:</a> <a id="1084" href="Scheme.Abstract-Syntax.html#273" class="Function">Com</a> <a id="1088" href="Scheme.Domain-Notation.html#2877" class="Function Operator">⋆′</a>

<a id="1092" class="Markup">\end{code}</a></pre>